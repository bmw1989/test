<div class="accordions-container row">
  <div class="accordion-container col-md-12">

    <nb-accordion>
      <nb-accordion-item #criteresrech>
        <nb-accordion-item-header>
          <strong>{{'criteresrecherche'|translate}}</strong>
        </nb-accordion-item-header>
        <nb-accordion-item-body>

         <div class="col-12">
          <form>

              <nb-tabset fullWidth>
                <nb-tab tabTitle="{{'personnephysique'|translate}}">
                  <div class="form-group row ">
                    <label for="inputnni" class="label col-sm-2 col-form-label ">{{'NNI'|translate}}</label>
                    <div class="col-sm-4">
                      <input  type="text"  [(ngModel)]="personnePhy.nni" nbInput fullWidth id="inputnni" name="inputnni" placeholder="NNI">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label for="inputprenomFr" name="label1" class="label col-sm-2 col-form-label ">Prénom</label>
                    <div class="col-sm-4">
                      <input  type="text"  [(ngModel)]="personnePhy.prenomFr" nbInput fullWidth id="inputprenomFr" name="inputprenomFr" placeholder="Prénom">
                    </div>
                    <div class="col-sm-4">
                      <input  type="text"  [(ngModel)]="personnePhy.prenomAr" nbInput fullWidth id="inputprenomAr" name="inputprenomAr" placeholder="الإ سم">
                    </div>
                    <label for="inputprenomAr" class="label col-sm-2 col-form-label ">الإسم</label>
                  </div>
                  <div class="form-group row ">
                    <label for="inputNomFr" class="label col-sm-2 col-form-label ">Nom</label>
                    <div class="col-sm-4">
                      <input  type="text" [(ngModel)]="personnePhy.nomFr" nbInput fullWidth id="inputNomFr" name="inputNomFr" placeholder="Nom">
                    </div>

                    <div class="col-sm-4">
                      <input   type="text" [(ngModel)]="personnePhy.nomAr" nbInput fullWidth id="inputnomAr" name="inputnomAr" placeholder="النسب">
                    </div>
                    <label for="inputnomAr" class="label col-sm-2 col-form-label ">النسب</label>
                  </div>
                  <div class="col-md-10 text-center">
                    <button nbButton (click)="rechercherPersonnePhy()" status="primary">{{'find'|translate}}</button>
                  </div>
                </nb-tab>
                <nb-tab tabTitle="{{'personnemorale'|translate}}">
                  <div class="form-group row required">
                    <label for="inputnomSociete" name="label1" class="label col-sm-2 col-form-label control-label">{{'nomSociete'|translate}}</label>
                    <div class="col-sm-4">
                      <input     type="text"  [(ngModel)]="personneMorale.nomSociete" nbInput fullWidth id="inputnomSociete" name="inputnomSociete" placeholder="Societe">
                    </div>

                    <label for="inputnumRegistreCommerce" name="label1" class="label col-sm-2 col-form-label control-label">{{'numRegistreCommerce'|translate}}</label>
                    <div class="col-sm-4">
                      <input     type="text"  [(ngModel)]="personneMorale.numRegistreCommerce" nbInput fullWidth id="inputnumRegistreCommerce" name="inputnumRegistreCommerce" placeholder="Registre Commerce">
                    </div>
                  </div>
                  <div class="form-group row required">
                    <label for="inputdateDebut" name="label1" class="label col-sm-2 col-form-label control-label">{{'dateDebut'|translate}}</label>
                    <div class="col-sm-4">
                      <input   placeholder="Form Picker" [nbDatepicker]="formpicker"
                             [(ngModel)]="personneMorale.dateDebutCreation" nbInput fullWidth id="inputdateDebut"
                             name="inputdateDebut" >
                      <nb-datepicker #formpicker format="dd/MM/yyyy"></nb-datepicker>
                    </div>

                    <label for="inputdateFin" name="label1" class="label col-sm-2 col-form-label control-label">{{'dateFin'|translate}}</label>
                    <div class="col-sm-4">
                      <input   placeholder="Form Picker" [nbDatepicker]="formdateFin"
                               [(ngModel)]="personneMorale.dateFinCreation" nbInput fullWidth id="inputdateFin"
                               name="inputdateFin" >
                      <nb-datepicker #formdateFin format="dd/MM/yyyy"></nb-datepicker>
                    </div>

                  </div>
                  <div class="form-group row ">
                    <div class="col-md-10 text-center">
                      <button nbButton (click)="rechercherPersonneMorale()" status="primary">{{'find'|translate}}</button>
                    </div>
                  </div>
                </nb-tab>
              </nb-tabset>
          </form>
         </div>
        </nb-accordion-item-body>
      </nb-accordion-item>

    </nb-accordion>
  </div>
</div>

<br />
<app-alert-messages [resultVO]="resultVO"></app-alert-messages>
<div class="row" *ngIf="this.sourcePers.count()>0">
  <div class="col-12">
    <nb-card class="inline-form-card" size="medium">
      <nb-card-header><h5 class="text-capitalize">{{ 'resultatrech' | translate }}</h5></nb-card-header>

      <nb-card-body>

        <div class="smart-table-container">
          <ng2-smart-table  [source]="sourcePers"  [settings]="settings" (userRowSelect)="onRowSelect($event)"
                            (custom)="onCustomAction($event)">
          </ng2-smart-table>
        </div>

      </nb-card-body>
    </nb-card>
  </div>
</div>

<app-fiche-contribuable *ngIf="personneSelected" [newContribuable]="personneSelected" [mode]="modeFicheContribuable" [typePersonne]="typePersonne"></app-fiche-contribuable>

